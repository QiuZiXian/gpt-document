# 1 é—¯å…³ä»»åŠ¡  

å®ŒæˆSSHè¿æ¥ä¸ç«¯å£æ˜ å°„å¹¶è¿è¡Œhello_world.py 

## 1.1 [sshè¿æ¥](https://github.com/InternLM/Tutorial/blob/camp3/docs/L0/Linux/readme.md#2-ssh%E5%8F%8A%E7%AB%AF%E5%8F%A3%E6%98%A0%E5%B0%84)

1. ç”³è¯·å¼€å‘æœºå¹¶å¯åŠ¨
   ![image-20240719161709176](1.2%20linux.assets/image-20240719161709176.png)

2. åˆ›å»ºsshè¿æ¥

   - winä¸‹å·²æœ‰keyåœ¨C:\Users\ç”¨æˆ·å\.ssh\
   - [æ–°ç”Ÿæˆ](https://github.com/InternLM/Tutorial/blob/camp3/docs/L0/Linux/readme.md#222-%E9%85%8D%E7%BD%AEssh%E5%AF%86%E9%92%A5%E8%BF%9B%E8%A1%8Cssh%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E5%8F%AF%E9%80%89)

   é…ç½®å…å¯†è¿æ¥

3. winä¸‹cmdè¿›è¡Œè¿œç¨‹è¿æ¥

 ![image-20240719163850639](1.2%20linux.assets/image-20240719163850639.png)

   ![image-20240719161933213](1.2%20linux.assets/image-20240719161933213.png)

4. [vscodeè¿œç¨‹è¿æ¥](https://github.com/InternLM/Tutorial/blob/camp3/docs/L0/Python/readme.md#42-%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0vscode%E8%BF%9E%E6%8E%A5internstudio%E5%BC%80%E5%8F%91%E6%9C%BA)ï¼ˆ**åç»­debugä½¿ç”¨**ï¼‰

![image-20240719164647128](1.2%20linux.assets/image-20240719164647128.png)

## 1.2 ç«¯å£æ˜ å°„

- åˆ›å»ºç¤ºä¾‹webæœåŠ¡hello_world.py 

```python
# sshè¿æ¥å¼€å‘æœº
# vim hello_world.py
import socket
import re
import gradio as gr
 
# è·å–ä¸»æœºå
def get_hostname():
    hostname = socket.gethostname()
    match = re.search(r'-(\d+)$', hostname)
    name = match.group(1)
    
    return name
 
# åˆ›å»º Gradio ç•Œé¢
with gr.Blocks(gr.themes.Soft()) as demo:
    html_code = f"""
            <p align="center">
            <a href="https://intern-ai.org.cn/home">
                <img src="https://intern-ai.org.cn/assets/headerLogo-4ea34f23.svg" alt="Logo" width="20%" style="border-radius: 5px;">
            </a>
            </p>
            <h1 style="text-align: center;">â˜ï¸ Welcome {get_hostname()} user, welcome to the ShuSheng LLM Practical Camp Course!</h1>
            <h2 style="text-align: center;">ğŸ˜€ Letâ€™s go on a journey through ShuSheng Island together.</h2>
            <p align="center">
                <a href="https://github.com/InternLM/Tutorial/blob/camp3">
                    <img src="https://oss.lingkongstudy.com.cn/blog/202406301604074.jpg" alt="Logo" width="20%" style="border-radius: 5px;">
                </a>
            </p>

            """
    gr.Markdown(html_code)

demo.launch()
```

- å®‰è£…å¿…è¦ä¾èµ–pip install gradio==4.29.0
- è¿è¡ŒæœåŠ¡python hello_world.py
- å¦èµ·ä¸€ä¸ªcmdï¼Œæ‰§è¡Œæ˜ å°„å‘½ä»¤

```bash
ssh -p 36407 root@ssh.intern-ai.org.cn -CNg -L 7860:127.0.0.1:7860 -o StrictHostKeyChecking=no

#ssh -p 37367 root@ssh.intern-ai.org.cn -CNg -L {æœ¬åœ°æœºå™¨_PORT}:127.0.0.1:{å¼€å‘æœº_PORT} -o StrictHostKeyChecking=no
```

å‘½ä»¤å„éƒ¨åˆ†çš„å«ä¹‰ï¼š

- `-p 37367`ï¼šæ˜¯æŒ‡å®š SSH è¿æ¥çš„ç«¯å£ä¸º 37367ï¼Œ**æ³¨æ„ä¿®æ”¹ä¸ºè‡ªå·±å¼€å‘æœºçš„**ã€‚

- `root@ssh.intern-ai.org.cn`ï¼šè¡¨ç¤ºè¦ä»¥ `root` ç”¨æˆ·èº«ä»½è¿æ¥åˆ° `ssh.intern-ai.org.cn` è¿™ä¸ªä¸»æœºã€‚

- ```
  -CNg
  ```

  ï¼š

  - `-C` é€šå¸¸ç”¨äºå¯ç”¨å‹ç¼©ã€‚
  - `-N` è¡¨ç¤ºä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼Œä»…å»ºç«‹è¿æ¥ç”¨äºç«¯å£è½¬å‘ç­‰ã€‚
  - `-g` å…è®¸è¿œç¨‹ä¸»æœºè¿æ¥åˆ°æœ¬åœ°è½¬å‘çš„ç«¯å£ã€‚

- `-L {æœ¬åœ°æœºå™¨_PORT}:127.0.0.1:{å¼€å‘æœº_PORT}`ï¼šè¿™æ˜¯è®¾ç½®æœ¬åœ°ç«¯å£è½¬å‘ï¼Œå°†æœ¬åœ°æœºå™¨çš„æŒ‡å®šç«¯å£ï¼ˆç”± `{æœ¬åœ°æœºå™¨_PORT}` è¡¨ç¤ºï¼‰è½¬å‘åˆ°è¿œç¨‹ä¸»æœºï¼ˆè¿™é‡Œå³ `ssh.intern-ai.org.cn`ï¼‰çš„ `127.0.0.1` ï¼ˆå³æœ¬åœ°å›ç¯åœ°å€ï¼‰å’ŒæŒ‡å®šçš„å¼€å‘æœºç«¯å£ï¼ˆç”± `{å¼€å‘æœº_PORT}` è¡¨ç¤ºï¼‰ã€‚

- `-o StrictHostKeyChecking=no`ï¼šå…³é—­ä¸¥æ ¼çš„ä¸»æœºå¯†é’¥æ£€æŸ¥ï¼Œè¿™æ ·å¯ä»¥é¿å…ç¬¬ä¸€æ¬¡è¿æ¥æ—¶å› ä¸ºæœªçŸ¥ä¸»æœºå¯†é’¥è€Œäº§ç”Ÿçš„æç¤ºæˆ–é”™è¯¯ã€‚

![image-20240719171629972](1.2%20linux.assets/image-20240719171629972.png)
**PSï¼šä¸çŸ¥é“æ˜¯ä¸æ˜¯bugã€‚æˆ‘è¿™é‡Œå¹¶æ²¡æœ‰ç«¯å£æ˜ å°„æ“ä½œã€‚ä»…å°±é…ç½®äº†å…å¯†ç™»å½•å’Œvscodeè¿æ¥**
# 2 å¯é€‰ä»»åŠ¡

## 2.1 å¯é€‰ä»»åŠ¡ 1  

å°†LinuxåŸºç¡€å‘½ä»¤åœ¨å¼€å‘æœºä¸Šå®Œæˆä¸€é 

## 2.2 å¯é€‰ä»»åŠ¡ 2 

 ä½¿ç”¨ VSCODE è¿œç¨‹è¿æ¥å¼€å‘æœºå¹¶åˆ›å»ºä¸€ä¸ªcondaç¯å¢ƒ 

## 2.3 å¯é€‰ä»»åŠ¡ 3  

åˆ›å»ºå¹¶è¿è¡Œtest.shæ–‡ä»¶

[æäº¤ä½œä¸š](https://aicarrier.feishu.cn/share/base/form/shrcnZ4bQ4YmhEtMtnKxZUcf1vd)